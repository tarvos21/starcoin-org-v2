<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width;initial-scale=1;maximum-scale=1;user-scalable=0" name=viewport><meta id=i18n_pagename content="index-common"><link rel=icon type=image/svg href=/img/stc.svg><link rel=stylesheet type=text/css href=/css/bootstrap.css><link rel=stylesheet href=/css/swiper-bundle.css><link rel=stylesheet type=text/css href=/css/nav.css><link rel=stylesheet type=text/css href=/css/nav_developer.css><link rel=stylesheet type=text/css href=/css/banner.css><link rel=stylesheet type=text/css href=/css/footer.css><link rel=stylesheet type=text/css href=/css/developer.css><link rel=stylesheet type=text/css href=/css/markdown.css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/swiper-bundle.min.js></script><script>(function(c,d){const b=196;function a(){const c=document.documentElement.clientWidth/1920,a=b*Math.min(c,2);document.documentElement.style.fontSize=a+'px',console.log('resize',document.documentElement.clientWidth,document.documentElement.clientHeight,'fontSize',a)}addEventListener('resize',a,!1),a()})(document,window)</script><script>$(document).ready(function(){a(),$(window).resize(function(){a()});function a(){let a=!1;(function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)})(navigator.userAgent||navigator.vendor||window.opera),window.innerWidth<=768&&a?($(".m-d-title").css("width",document.body.clientWidth-30+'px'),$(".m-d-content").css("width",document.body.clientWidth-30+'px')):($(".m-d-title").css("width","auto"),$(".m-d-content").css("width","auto"))}$("#developer_open_move").click(function(){$(this).parent().attr("class").indexOf("active")>-1?($(this).find(".icon img").attr("src","/img/icon_block.png"),$(this).parent().removeClass("active")):($(this).find(".icon img").attr("src","/img/icon_block_active.png"),$(this).parent().addClass("active"))}),$(".m_left_nav_click").click(function(){$(this).attr("state")==0?($(this).attr("state",1),$(".m_mask").show(),$(".m-column-drawer").animate({marginLeft:"100px"})):($(this).attr("state",0),$(".m_mask").hide(),$(".m-column-drawer").animate({marginLeft:"-140px"}))}),$(".m_mask").click(function(){$(this).hide(),$(".m_left_nav_click").attr("state",0),$(".m-column-drawer").animate({marginLeft:"-140px"})})})</script><title>Move example | Starcoin Developer</title></head><body><div class=visible-lg-block><div class=header_top></div><div class="top scrollTop-nav"><div class=container><a href=/en><div class=logo><img src=/img/logo.png></div></a><div class="nav navClick"><div class="item Overview allSelect"><span class=i18n href=/en/>Overview</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/overview/technology_whitepaper/>Technology Whitepaper</a></div><div class=li><a class=i18n href=/en/overview/economy_whitepaper/>Economy Whitepaper</a></div></div></div></div><div class="item Guide allSelect"><span class=i18n>Learn</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/developer/tutorials/starcoin_wallet/>Starcoin Wallet</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starmask-extension/blob/main/docs/how-to-use.md',''),!1" href=javascript:void(0)>StarMask Chrome Wallet</a></div><div class=li><a class=i18n href=/en/developer/cli/mint/>Node Mining</a></div><div class=li><a class=i18n href=/en/developer/cli/>Node Command</a></div></div></div></div><div class="item Developer allSelect"><span class=i18n>Developer</span><div class=more_nav><div class=box><div class=li><span class=i18n>Node</span><div class=second_nav><div class=li><a class=i18n href=/en/developer/key_concepts/concept>Key Concept</a></div><div class=li><a class=i18n href=/en/developer/rpc/rpc_document/>RPC Protocol & APIs</a></div><div class=li><a class=i18n href=/en/developer/sips/>SIPs</a></div><div class=li><a class=i18n href=/en/developer/sdk/>SDK</a></div></div></div><div class=li><span class=i18n>Move</span><div class=second_nav><div class=li><a class=i18n onclick="return window.open('https://move-book.com/cn/index.html',''),!1" href=javascript:void(0)>Move Book</a></div><div class=li><a class=i18n href=/en/developer/move/1.2/changelog>Move ChangeLog 1.2</a></div><div class=li><a class=i18n onclick="return window.open(' https://github.com/starcoinorg/starcoin/blob/master/vm/move-cli/README.md',''),!1" href=javascript:void(0)>Move IDE</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/blob/master/vm/move-cli/README.zh.md',''),!1" href=javascript:void(0)>Move CLI</a></div><div class=li><a class=i18n href=/en/developer/move/example>Move Examples</a></div></div></div><div class=li><span class=i18n>Stratum Pool Guide</span><div class=second_nav><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/discussions/2541',''),!1" href=javascript:void(0)>Stratum Pool Guide</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/blob/b47429fc792fe9fabd1587fa60a9cae249f0b67f/stratum/stratum_mining_protocol.md',''),!1" href=javascript:void(0)>Stratum mining protocol</a></div></div></div><div class=li><a class=i18n href=/en/developer/>More</a></div></div></div></div><div class="item Community allSelect"><span class=i18n>Community</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/news/>News</a></div><div class=li><a class=i18n onclick="return window.open('http://westar.io',''),!1" href=javascript:void(0)>Westar Lab</a></div><div class=li><a class=i18n onclick="return window.open('https://www.movelang.io',''),!1" href=javascript:void(0)>Move Chinese Community</a></div></div></div></div><div class="item QA allSelect"><span class=i18n>Q&A</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/qa/ama>AMA</a></div></div></div></div><div class="item About allSelect"><span class=i18n>About</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/about>About Starcoin</a></div></div></div></div></div><div class="language p-language"><span language=en>English</span>｜<span language=zh>中文</span></div></div></div></div><div class="visible-xs visible-sm visible-md" style=display:none><div class="header_top m_header_top"></div><div class="top m_top scrollTop-nav"><div class="container m_container"><a href=/><div class=m_logo><img src=/img/logo.png></div></a><div class="m_nav m_nav_tap"><img src=/img/m_nav_more.png></div></div></div><div class=m_nav_model><div class="nav navClick m_nav_navigation"><div class="item Overview allSelect"><span class=i18n href=/en/>Overview</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/overview/technology_whitepaper/>Technology Whitepaper</a></div><div class=li><a class=i18n href=/en/overview/economy_whitepaper/>Economy Whitepaper</a></div></div></div></div><div class="item Guide allSelect"><span class=i18n>Learn</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/developer/tutorials/starcoin_wallet/>Starcoin Wallet</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starmask-extension/blob/main/docs/how-to-use.md',''),!1" href=javascript:void(0)>StarMask Chrome Wallet</a></div><div class=li><a class=i18n href=/en/developer/cli/mint/>Node Mining</a></div><div class=li><a class=i18n href=/en/developer/cli/>Node Command</a></div></div></div></div><div class="item Developer allSelect"><span class=i18n>Developer</span><div class=more_nav><div class=box><div class=li><span class=i18n>Node</span><div class=second_nav><div class=li><a class=i18n href=/en/developer/key_concepts/concept>Key Concept</a></div><div class=li><a class=i18n href=/en/developer/rpc/rpc_document/>RPC Protocol & APIs</a></div><div class=li><a class=i18n href=/en/developer/sips/>SIPs</a></div><div class=li><a class=i18n href=/en/developer/sdk/>SDK</a></div></div></div><div class=li><span class=i18n>Move</span><div class=second_nav><div class=li><a class=i18n onclick="return window.open('https://move-book.com/cn/index.html',''),!1" href=javascript:void(0)>Move Book</a></div><div class=li><a class=i18n href=/en/developer/move/1.2/changelog>Move ChangeLog 1.2</a></div><div class=li><a class=i18n onclick="return window.open(' https://github.com/starcoinorg/starcoin/blob/master/vm/move-cli/README.md',''),!1" href=javascript:void(0)>Move IDE</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/blob/master/vm/move-cli/README.zh.md',''),!1" href=javascript:void(0)>Move CLI</a></div><div class=li><a class=i18n href=/en/developer/move/example>Move Examples</a></div></div></div><div class=li><span class=i18n>Stratum Pool Guide</span><div class=second_nav><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/discussions/2541',''),!1" href=javascript:void(0)>Stratum Pool Guide</a></div><div class=li><a class=i18n onclick="return window.open('https://github.com/starcoinorg/starcoin/blob/b47429fc792fe9fabd1587fa60a9cae249f0b67f/stratum/stratum_mining_protocol.md',''),!1" href=javascript:void(0)>Stratum mining protocol</a></div></div></div><div class=li><a class=i18n href=/en/developer/>More</a></div></div></div></div><div class="item Community allSelect"><span class=i18n>Community</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/news/>News</a></div><div class=li><a class=i18n onclick="return window.open('http://westar.io',''),!1" href=javascript:void(0)>Westar Lab</a></div><div class=li><a class=i18n onclick="return window.open('https://www.movelang.io',''),!1" href=javascript:void(0)>Move Chinese Community</a></div></div></div></div><div class="item QA allSelect"><span class=i18n>Q&A</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/qa/ama>AMA</a></div></div></div></div><div class="item About allSelect"><span class=i18n>About</span><div class=more_nav><div class=box><div class=li><a class=i18n href=/en/about>About Starcoin</a></div></div></div></div></div><div class=m-language><div language=zh class=item>中文<div class=line></div></div><div language=en class=item>English</div></div></div><div class=clearfix></div></div><script>$(document).ready(function(){const a=JSON.parse(localStorage.getItem('navActive'))||0;$(".navClick .item")[a].classList.add('navActive'),$(".p-language span, .m-language .item").click(function(){let a=window.location.href,b=$(this).attr('language'),c="en";c!==b&&(a=a.replace(`/${c}/`,`/${b}/`),window.location.href=a)}),$(".navClick .item").click(function(){let b=$(this)[0]||null;if(b){b.classList.add('navActive');let e=[],d=b.parentNode.children;for(var a=0,c=d.length;a<c;a++)d[a]!==b?e.push(d[a]):localStorage.setItem('navActive',a);e.forEach(a=>{a.classList.remove('navActive')})}$(this).attr("href")&&window.open($(this).attr("href"),"_self")}),$(".more_nav .box .li").click(function(){$(this).attr("href")&&window.open($(this).attr("href"),"_self")}),$(".m_nav_navigation").find(".allSelect").click(function(){$(this).attr("class").indexOf("m_tab_select")>-1?(console.log($(this)),$(this).removeClass("m_tab_select")):$(this).addClass("m_tab_select")}),$(".m_nav_tap").click(function(){$(this).find("img").attr("src")=="/img/m_nav_more.png"?($(this).find("img").attr("src","/img/m_nav_close.png"),$(".m_nav_model").show(),$(".m_nav_model").animate({height:"100%"}),$(".scrollTop-nav").addClass("home-nav")):($(this).find("img").attr("src","/img/m_nav_more.png"),$(".scrollTop-nav").removeClass("home-nav"),$(".m_nav_model").animate({height:"0%"}),$(".m_nav_model").hide())})})</script><div class=container><div class="developer m-column-drawer"><div class=developer_left><div class=developer_column>Starcoin Developer</div><div class=developer_column_list><ul><li><a href=/en/developer/setup/>Getting started</a><ul><li><a href=/en/developer/setup/install/>Install</a></li><li><a href=/en/developer/setup/build/>Build from Source</a></li><li><a href=/en/developer/setup/run_by_docker/>Run by docker</a></li><li><a href=/en/developer/setup/runnetwork/>Run/Join Network</a></li><li><a href=/en/developer/setup/runcustomnetwork/>Run custom chain network</a></li></ul></li><li><a href=/en/developer/cli/ class=arrow>CLI</a></li><li><a href=/en/developer/tutorials/ class=arrow>Tutorials</a></li><li><a href=/en/developer/move/ class=arrow>Move language</a><ul><li><a href=/en/developer/move/1.2/changelog/>Move 1.2 ChangeLog</a></li><li><a href=/en/developer/move/example/ class=active>Move example</a></li></ul></li><li><a href=/en/developer/key_concepts/ class=arrow>Key Concepts</a></li><li><a href=/en/developer/rpc/ class=arrow>RPC</a></li><li><a href=/en/developer/sdk/>SDK</a><ul></ul></li><li><a href=/en/developer/tech/ class=arrow>Tech</a></li><li><a href=/en/developer/release-notes/ class=arrow>Release Notes</a></li><li><a href=/en/developer/sips/ class=arrow>SIPs</a></li></ul></div></div><div class=developer_right><label for=menu-control class="hidden book-menu-overlay"></label><div class=m_mask></div><div class="column_title m-d-title"><img class=m_left_nav_click state=0 src=/img/m_nav_more.png>
<span>Move example</span></div><div class="content m-d-content"><article class=markdown><p><br></p><h2 id=helloworld>HelloWorld</h2><ol><li>Define an Event</li></ol><pre><code class=language-move data-lang=move>
struct AnyWordEvent has drop, store {

words: vector,

}

~ ~ ~





2. Define a Holder



~~~move

struct EventHolder has key {

any_word_events: Event::EventHandle,

}

~ ~ ~



3. Generate a Hello World event in the function



~~~move

let hello_world = x&quot;68656c6c6f20776f726c64&quot;; //hello world

let holder = borrow_global_mut(addr);

Event::emit_event(&amp;mut holder.any_word_events, AnyWordEvent { words:hello_world });

~ ~ ~



The complete code





~~~move

module Hello {

use 0x1::Signer;

use 0x1::Event;



struct AnyWordEvent has drop, store {

words: vector,

}



struct EventHolder has key {

any_word_events: Event::EventHandle,

}



public(script) fun hello(account: &amp;signer) acquires EventHolder {

let addr = Signer::address_of(account);

if (! exists(copy addr)){

move_to(account, EventHolder {

any_word_events: Event::new_event_handle(account),

});

};

let hello_world = x&quot;68656c6c6f20776f726c64&quot;; //hello world

let holder = borrow_global_mut(addr);

Event::emit_event(&amp;mut holder.any_word_events, AnyWordEvent { words:hello_world });

}

}

~ ~ ~







## Stdlib Introduction to the whole



Stdlib is a very important feature of Starcoin. It contains some basic modules, common modules, blocks and consensus related modules.



1. Basic modules:

1. Account: Account module;

2. Token: asset module, which defines the Token specification;

3. STC: STC is the original asset of Starcoin and an implementation of Token;

4. Timestamp: Timestamp module, which takes the Block time as the on-chain time;

5. Event: Event processing module;

6. Math module;

7. Errors: Exception processing module;

8. Vector: array module;



2. Common modules are as follows:

1. Config: configuration module, such as block reward module RewardConfig, VMConfig, etc., stores various configuration files on the chain for convenient adjustment in the future;

2. DAO: On-chain governance module;

3. Twophase: two-phase update Module;



3. Block and consensus related modules:

1. Genesis.

2. Block metadata;

3. The Epoch was Epoch.



Here are some simple examples of Stdlib operations that are commonly used.







## Account basic operation



1. Create account

```move

let auth_key = x&quot;91e941f5bc09a285705c092dd654b94a7a8e385f898968d4ecfba49609a13461&quot;;

let account_address = Account::create_account(auth_key);

` ` `



2. Get authentication key with address



~~~move

let auth_key = Account::authentication_key(account_address);

~ ~ ~



3. Get address from authentication key



```move

let auth_key = x&quot;91e941f5bc09a285705c092dd654b94a7a8e385f898968d4ecfba49609a13461&quot;;

let expected_address = Authenticator::derived_address(auth_key);

` ` `



6. Get balance



```move

let balance = Account::balance(account_address);

` ` `



7. Get sequence number



```move

let sequence_number = Account::sequence_number(account_address);

` ` `



8. Deposit



```move

let coin = Token::mint(&amp;account, 100);

Account::deposit(account_address, coin);

` ` `



9. Determine whether a descriptive Capability is proxied



```move

let is_delegated = Account::delegated_withdraw_capability(account_address);

` ` `



10. Gets the address of the corresponding descriptive Capability



```move

let with_cap = Account::extract_withdraw_capability(&amp;account);

let account_address = Account::withdraw_capability_address(&amp;with_cap);

` ` `







Capability allows you to operate your account



In Starcoin, any modification of the account, such as transfer, updating key and so on, requires the permission to operate the account. A Capability can be understood as an abstraction of a &quot;permission&quot; in a Move, and a different type of operation corresponds to a different type of Capability, such as a mintCapability, a descriptive Capability, and so on. To do something with a Capability, there are usually three steps:



1. Get the corresponding Capability: extract_xxx_capability

2. Do it

3. Store Capability: Restore_XXX_Capability



Here are some examples of using Capability to manipulate accounts (and, by the same token, update permissions for other modules) :



1. Change authentication key



```move

let rot_cap = Account::extract_key_rotation_capability(&amp;account); //1. get capability

Account::rotate_authentication_key_with_capability(&amp;rot_cap, x&quot;123abc&quot;); //2. change key

Account::restore_key_rotation_capability(rot_cap); //3. restore capability

` ` `



2. Pay from capability



```move

let with_cap = Account::extract_withdraw_capability(&amp;account); //1. get capability

Account::pay_from_capability(&amp;with_cap, payee, 10000, x&quot;&quot;); //2. pay from capability

Account::restore_withdraw_capability(with_cap); //3. restore capability

` ` `



These are two typical examples, and a more descriptive account operation is a: withdrawing _with_capability and so on.







## Multiple ways to transfer contracts



1. peer_to_peer

```move

TransferScripts::peer_to_peer(account, payee, payee_auth_key, amount);

` ` `



2. peer_to_peer_with_metadata



```move

TransferScripts::peer_to_peer_with_metadata(account, payee, payee_auth_key, amount, metadata);

` ` `



3. Batch transfer of different amounts



~~~move

TransferScripts::batch_peer_to_peer(account, payeees, payee_auth_keys, amounts);

~ ~ ~



4. Transfer the same amount in batches

~~~move

TransferScripts::peer_to_peer_batch(account, payeees, payee_auth_keys, amount);

~ ~ ~

## Sign multiple accounts



1. Create one multi-signed account for each 3 accounts



```move

let pubkey1 = x&quot;c48b687a1dd8265101b33df6ae0b6825234e3f28df9ecb38fb286cf76dae919d&quot;;

let pubkey2 = x&quot;4b2a60883383be0ba24ed79aa5a6c9379728099a7b0c57edcec193a14ea5fce2&quot;;

let pubkey3 = x&quot;323285d3d4b0f19482730c5f481d9f745c2927d73c231bad47859d9b2f7376f1&quot;;



let keys = Vector::empty&gt;();

Vector::push_back(&amp;mut keys, pubkey1);

Vector::push_back(&amp;mut keys, pubkey2);

Vector::push_back(&amp;mut keys, pubkey3);



let t = Authenticator::create_multi_ed25519(copy keys, 1);

t = Authenticator::create_multi_ed25519(copy keys, 2);

t = Authenticator::create_multi_ed25519(copy keys, 3);

let auth_key = Authenticator::multi_ed25519_authentication_key(&amp;t);

` ` `



2. Get the address of the oversigned account



```move

let account_address = Authenticator::derived_address(auth_key);

` ` `







Example # # Token



1. Publish the Token process

 align=left /&gt;

Struct myToken has copy, drop, store {} '







'register Token: Token::register_token&lt; myToken &gt;(account,3); `







'3. Accept Token: Account::accept_token&lt; myToken &gt;(&amp; Account); `







Let tokens = Token::mint&lt; myToken &gt;(&amp;account, total); `







Deposit_to_self &lt; myToken &gt;(&amp; Account, tokens); `







The complete code



```move

module MyToken {

use 0x1::Token;

use 0x1::Account;



struct MyToken has copy, drop, store { }



public(script) fun init(account: &amp;signer) {

Token::register_token(account, 3);

Account::do_accept_token(account);

}



public(script) fun mint(account: &amp;signer, amount: u128) {

let token = Token::mint(account, amount);

Account::deposit_to_self(account, token)

}

}

` ` `







2. Turn the Token

 align=left /&gt;



'1. Accept Token: Account::accept_token&lt; myToken &gt;(&amp; Account); `











'2. Forward Token: Account::pay_from&lt; myToken &gt;(&amp; Account, payee, amount); `















## Contract hosting



1. The coder account deploys a contract and hosts the contract to the DAO



~~~move

module MyToken {

use 0x1::Token;

use 0x1::Account;

use 0x1::Dao;



struct MyToken has copy, drop, store { }



public(script) fun init(account: &amp;signer) {

Token::register_token(account, 3);

Account::do_accept_token(account);

Dao::plugin(account, 60 * 1000, 60 * 60 * 1000, 4, 60 * 60 * 1000);

}



public(script) fun mint(account: &amp;signer, amount: u128) {

let token = Token::mint(account, amount);

Account::deposit_to_self(account, token)

}

}

~ ~ ~



2. Modify the DAO configuration of the MyToken module



~~~move

script {

use 0x1::Dao;

use {{coder}}::MyToken::MyToken;

use 0x1::Config;



fun set_dao_config(signer: signer) {

let cap = Config::extract_modify_config_capability&gt;(

&amp;signer

);



Dao::set_voting_delay(&amp;mut cap, 30 * 1000);

Dao::set_voting_period(&amp;mut cap, 30 * 30 * 1000);

Dao::set_voting_quorum_rate(&amp;mut cap, 50);

Dao::set_min_action_delay(&amp;mut cap, 30 * 30 * 1000);



Config::restore_modify_config_capability(cap);

}

}

~ ~ ~



3. Upgrade your contract



! [DAO](https://tva1.sinaimg.cn/large/008i3skNgy1gqxxyln2yxj30p10g5myz.jpg)
</code></pre></article></div></div></div></div><div class="footer visible-lg"><div class=container><div class="row hr"><div class="col-md-4 item">联系我们</div><div class="col-md-4 item">技术</div><div class="col-md-4 item">社区</div></div><div class="row td"><div class="col-md-4 item">微信公众号: Starcoin区块链</div><div class="col-md-4 item"><a target=_blank href="https://chrome.google.com/webstore/detail/starmask/mfhbebgoclkghebffdldpobeajmbecfk?hl=zh-CN">StarMask
Wallet</a></div><div class="col-md-4 item"><a target=_blank href=https://starcoin.org/en/news/>News 新闻</a></div></div><div class="row td"><div class="col-md-4 item">Twitter: <a target=_blank href=https://twitter.com/starcoinstc>StarcoinSTC</a></div><div class="col-md-4 item"><a target=_blank href=https://explorer.starcoin.org>区块浏览器</a></div><div class="col-md-4 item"><a target=_blank href=https://westar.io>Westar 实验室</a></div></div><div class="row td"><div class="col-md-4 item">微信群请加：starcoinorg</div><div class="col-md-4 item"><a target=_blank href=https://starcoin.org/en/developer/>开发者文档</a></div><div class="col-md-4 item"><a target=_blank href=https://www.movelang.io>Move 中文社区</a></div></div><div class="row td"><div class="col-md-4 item">Discord：<a target=_blank href=https://discord.gg/96tKt5exaE>Starcoin Spaceship</a></div><div class="col-md-4 item"><a target=_blank href=https://starcoin.org/en/developer/sdk/>SDK</a></div><div class="col-md-4 item"><a target=_blank href=https://github.com/starcoinorg/starcoin/discussions>GitHub 讨论区</a></div></div><div class=foot><div class=copyright>© 2018-2021 Starcoin.org All rights reserved.</div></div></div></div><div class="m-footer visible-xs visible-sm visible-md"><div class=container><div class=go-contact-us>联系我们<img src=/img/r-arrow.png></div><div class=row-li><div class=item>微信公众号: Starcoin区块链</div><div class=item>微信群: starcoinorg</div></div><div class=row-li><div class=item>Twitter: <a target=_blank href=https://twitter.com/starcoinstc>StarcoinSTC</a></div><div class=item>Discord：<a target=_blank href=https://discord.gg/96tKt5exaE>Starcoin Spaceship</a></div></div><div class=go-contact-us>技术<img src=/img/r-arrow.png></div><div class=row-li><div class=item><a target=_blank href="https://chrome.google.com/webstore/detail/starmask/mfhbebgoclkghebffdldpobeajmbecfk?hl=zh-CN">StarMask
Wallet</a></div><div class=item><a target=_blank href=https://explorer.starcoin.org>区块浏览器</a></div></div><div class=row-li><div class=item><a target=_blank href=https://starcoin.org/en/developer/>开发者文档</a></div><div class=item><a target=_blank href=https://starcoin.org/en/developer/sdk/>SDK</a></div></div><div class=go-contact-us>社区<img src=/img/r-arrow.png></div><div class=row-li><div class=item><a target=_blank href=https://starcoin.org/en/news/>News 新闻</a></div><div class=item><a target=_blank href=https://westar.io>Westar 实验室</a></div></div><div class=row-li><div class=item><a target=_blank href=https://www.movelang.io>Move 中文社区</a></div><div class=item><a target=_blank href=https://github.com/starcoinorg/starcoin/discussions>GitHub 讨论区</a></div></div><div class=crt>© 2018-2021 Starcoin.org All rights reserved.</div></div></div></body></html>